---
layout: index
title:  架构梳理
---

#### ```MyBatis```

* 初始化: 数据库连接池、注册Mapper
* Mapper(动态代理) -&gt; SqlSession -&gt; 缓存(一级/二级) -&gt; `prepare statement` -&gt; `set parameter` -&gt; `jdbc execute` -&gt; `handle resultSet`

#### Spring

* IOC: refresh、BeanFactory、BeanDefinition、实例化
    * 循环依赖
    * @Autowired、@Resource
* AOP: JDK动态代理、CGLib动态代理

#### Spring MVC

* DispatcherServlet -&gt; `mapping` -&gt; `preHandle` -&gt; `invoke` -&gt; `postHandle` -&gt; `view` -&gt; `afterCompletion`

#### Eureka

* 服务注册中心: 服务注册与发现

<img src="/images/spring/eureka.png" style="width: 480px; border-width: 1px;" title="Eureka" />

#### Feign

* 简化HTTP调用
* httpclient/okhttp

<img src="/images/spring/feign.png" style="width: 480px; border-width: 1px;" title="Feign" />

#### Ribbon

* 客户端负载均衡

#### Hystrix

* 资源隔离: 线程池隔离、熔断、降级
* Request -&gt; 熔断开关(fallback) -&gt; 线程池(fallback) -&gt; Remote Call(fallback)

<img src="/images/spring/hystrix.png" style="width: 480px; border-width: 1px;" title="Hystrix" />

<img src="/images/spring/hystrix-thread.png" style="width: 480px; border-width: 1px;" title="Hystrix Thread" />

#### Zuul

#### MySQL

#### Redis

#### ElasticSearch

#### Kafka

#### Apollo

#### Cat

#### XXL-JOB
