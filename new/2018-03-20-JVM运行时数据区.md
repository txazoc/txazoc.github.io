---
layout: new
title:  JVM运行时数据区
---

#### 程序计数器(PC Register)

存放线程中下一条要执行的字节码指令的地址

#### Java虚拟机栈(JVM Stack)

每个线程都有自己的Java虚拟机栈，栈中存储栈帧

栈帧的结构:

* 局部变量表: 方法参数、局部变量
* 操作数栈: 存储字节码指令的参数和执行结果

#### 本地方法栈(Native Method Stack)

native方法的栈

#### 堆(Heap)

Java中给对象分配内存的区域

#### 方法区(Method Area)

存储已加载的类信息(包括字段、方法、方法字节码、运行时常量池)、常量、静态变量等

* 类型信息
    * 类型的全限定名
    * 类型的直接超类的全限定名
    * 类类型或接口类型
    * 类型修饰符
    * 接口列表
* 字段信息
    * 字段名
    * 字段类型
    * 字段描述
* 方法信息
    * 方法名
    * 返回类型
    * 方法参数的个数和类型
    * 方法描述
    * 方法字节码
    * 局部变量表和操作数栈的大小
    * 异常表
* 运行时常量池
* 常量
* 静态变量
* 类加载器的引用

#### 运行时常量池(Runtime Constant Pool)

方法区的一部分，Class常量池的运行时表示

#### 直接内存(Direct Memory)

也称为堆外内存

#### Java中常量池

* 整型常量池: 整数，默认范围`-128 ~ 127`，比如`IntegerCache.cache`
* 字符串常量池: `"xxx"`、`String.intern()`
* Class常量池
    * 字面值
        * 整数
        * 字符串
    * 符号引用
        * 类和接口的全限定名
        * 字段的名称和描述符
        * 方法的名称和描述符
* 运行时常量池
    * 整型常量池
    * 字符串常量池
    * 直接引用
        * 类和接口
        * 字段
        * 方法
